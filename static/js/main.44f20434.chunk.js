(this["webpackJsonpblog-front"]=this["webpackJsonpblog-front"]||[]).push([[0],{104:function(e,n){},111:function(e,n,t){"use strict";t.r(n);var r,a,c,o,i,s,u,b,l,j,d,O,p,g=t(0),f=t.n(g),m=t(31),h=t.n(m),x=(t(70),t(11)),v=(t(71),t(3)),y=t(16),w=t(4),k={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},E=t(1),C=w.b.div(r||(r=Object(v.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  /* flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),k.gray[2]),S=w.b.div(a||(a=Object(v.a)(["\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]))),I=function(e){var n=e.children;return Object(E.jsx)(C,{children:Object(E.jsxs)(S,{children:[Object(E.jsx)("div",{className:"logo-area",children:Object(E.jsx)(y.b,{to:"/",children:"REACTERS"})}),n]})})},T=t(15),_=t(12),P=t(5),R=Object(w.a)(c||(c=Object(v.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  ","\n  ","\n    &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),k.gray[8],k.gray[6],(function(e){return e.fullWidth&&Object(w.a)(o||(o=Object(v.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "])))}),(function(e){return e.cyan&&Object(w.a)(i||(i=Object(v.a)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "])),k.cyan[5],k.cyan[4])}),k.gray[3],k.gray[5]),L=w.b.button(s||(s=Object(v.a)(["\n  ","\n"])),R),D=Object(w.b)(y.b)(u||(u=Object(v.a)(["\n  ","\n"])),R),N=function(e){return e.to?Object(E.jsx)(D,Object(P.a)(Object(P.a)({},e),{},{cyan:e.cyan?1:0})):Object(E.jsx)(L,Object(P.a)({},e))},A=w.b.div(b||(b=Object(v.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n  }\n"])),k.gray[8]),z=w.b.input(l||(l=Object(v.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"])),k.gray[5],k.gray[7]),F=w.b.div(j||(j=Object(v.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),k.gray[6],k.gray[9]),M=Object(w.b)(N)(d||(d=Object(v.a)(["\n  margin-top: 1rem;\n"]))),B={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},G=w.b.div(O||(O=Object(v.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]))),U=function(e){var n=e.type,t=e.form,r=e.onChange,a=e.onSubmit,c=e.error,o=B[n];return Object(E.jsxs)(A,{children:[Object(E.jsx)("h3",{children:o}),Object(E.jsxs)("form",{onSubmit:a,children:[Object(E.jsx)(z,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),Object(E.jsx)(z,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&Object(E.jsx)(z,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&Object(E.jsx)(G,{children:c}),Object(E.jsx)(M,{cyan:!0,fullWidth:!0,children:o})]}),Object(E.jsx)(F,{children:"login"===n?Object(E.jsx)(y.b,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}):Object(E.jsx)(y.b,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})},H=t(8),W=t(13),q=t.n(W),J=t(113),Q=t(112),Z=t(57),K=t(14),$="loading/START_LOADING",V="loading/FINISH_LOADING",X=Object(J.a)($,(function(e){return e})),Y=Object(J.a)(V,(function(e){return e})),ee=Object(Q.a)((p={},Object(H.a)(p,$,(function(e,n){return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},n.payload,!0))})),Object(H.a)(p,V,(function(e,n){return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},n.payload,!1))})),p),{}),ne=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function te(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return q.a.mark((function a(c){var o;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(K.c)(X(e));case 2:return a.prev=2,a.next=5,Object(K.b)(n,c.payload);case 5:return o=a.sent,a.next=8,Object(K.c)({type:t,payload:o.data,meta:o});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(K.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(K.c)(Y(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var re,ae=t(56),ce=t.n(ae).a.create(),oe=function(){return ce.post("/api/auth/logout")},ie=q.a.mark(Ce),se="auth/CHANGE_FIELD",ue="auth/INITIALIZE_FORM",be=ne("auth/REGISTER"),le=Object(T.a)(be,3),je=le[0],de=le[1],Oe=le[2],pe=ne("auth/LOGIN"),ge=Object(T.a)(pe,3),fe=ge[0],me=ge[1],he=ge[2],xe=Object(J.a)(se,(function(e){return{form:e.form,key:e.key,value:e.value}})),ve=Object(J.a)(ue,(function(e){return e})),ye=Object(J.a)(je,(function(e){return{username:e.username,password:e.password}})),we=Object(J.a)(fe,(function(e){return{username:e.username,password:e.password}})),ke=te(je,(function(e){var n=e.username,t=e.password;return ce.post("/api/auth/register",{username:n,password:t})})),Ee=te(fe,(function(e){var n=e.username,t=e.password;return ce.post("/api/auth/login",{username:n,password:t})}));function Ce(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(je,ke);case 2:return e.next=4,Object(K.d)(fe,Ee);case 4:case"end":return e.stop()}}),ie)}var Se,Ie={register:{username:"",password:"",passwordContirm:""},login:{username:"",password:""},auth:null,authError:null},Te=Object(Q.a)((re={},Object(H.a)(re,se,(function(e,n){var t=n.payload,r=t.form,a=t.key,c=t.value;return Object(Z.a)(e,(function(e){e[r][a]=c}))})),Object(H.a)(re,ue,(function(e,n){var t,r=n.payload;return Object(P.a)(Object(P.a)({},e),{},(t={},Object(H.a)(t,r,Ie[r]),Object(H.a)(t,"authError",null),t))})),Object(H.a)(re,de,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{authError:null,auth:t})})),Object(H.a)(re,Oe,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{authError:t})})),Object(H.a)(re,me,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{authError:null,auth:t})})),Object(H.a)(re,he,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{authError:t})})),re),Ie),_e=q.a.mark(We),Pe=q.a.mark(qe),Re="user/TEMP_SET_USER",Le=ne("user/CHECK"),De=Object(T.a)(Le,3),Ne=De[0],Ae=De[1],ze=De[2],Fe="user/LOGOUT",Me=Object(J.a)(Re,(function(e){return e})),Be=Object(J.a)(Ne),Ge=Object(J.a)(Fe),Ue=te(Ne,(function(){return ce.get("/api/auth/check")}));function He(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function We(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(K.b)(oe);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),_e,null,[[0,6]])}function qe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Ne,Ue);case 2:return e.next=4,Object(K.d)(ze,He);case 4:return e.next=6,Object(K.d)(Fe,We);case 6:case"end":return e.stop()}}),Pe)}var Je,Qe,Ze,Ke,$e,Ve,Xe,Ye,en,nn,tn,rn,an,cn,on=Object(Q.a)((Se={},Object(H.a)(Se,Re,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{user:t})})),Object(H.a)(Se,Ae,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{user:t,checkError:null})})),Object(H.a)(Se,ze,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{user:null,checkError:t})})),Object(H.a)(Se,Fe,(function(e){return Object(P.a)(Object(P.a)({},e),{},{user:null})})),Se),{user:null,checkError:null}),sn=function(e){var n=Object(x.e)(),t=Object(g.useState)(null),r=Object(T.a)(t,2),a=r[0],c=r[1],o=Object(_.b)(),i=Object(_.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),s=i.form,u=i.auth,b=i.authError,l=i.user;return Object(g.useEffect)((function(){o(ve("login"))}),[o]),Object(g.useEffect)((function(){b&&(console.log("\uc624\ub958\ubc1c\uc0dd"),console.log(b),c("\ub85c\uadf8\uc778 \uc2e4\ud328")),u&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),o(Be()))}),[u,b,o]),Object(g.useEffect)((function(){l&&n.push("/");try{localStorage.setItem("user",JSON.stringify(l))}catch(e){console.log("localStorage is not working")}}),[l,n]),Object(E.jsx)(U,{type:"login",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;o(xe({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password;o(we({username:n,password:t}))},error:a})},un=function(e){return Object(E.jsx)(I,{children:Object(E.jsx)(sn,{})})},bn=t(65),ln=w.b.div(Je||(Je=Object(v.a)(["\n  padding: 0 1rem;\n  width: 1024;\n  margin: 0 auto;\n\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n\n  @media (max-width: 786px) {\n    width: 100%;\n  }\n"]))),jn=function(e){var n=e.children,t=Object(bn.a)(e,["children"]);return Object(E.jsx)(ln,Object(P.a)(Object(P.a)({},t),{},{children:n}))},dn=w.b.div(Qe||(Qe=Object(v.a)(["\n  position: fixed;\n  width: 100%;\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]))),On=Object(w.b)(jn)(Ze||(Ze=Object(v.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /* \uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774\uc5d0 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815 */\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]))),pn=w.b.div(Ke||(Ke=Object(v.a)(["\n  height: 4rem;\n"]))),gn=w.b.div($e||($e=Object(v.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]))),fn=function(e){var n=e.user,t=e.onLogout;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(dn,{children:Object(E.jsxs)(On,{children:[Object(E.jsx)(y.b,{to:"/",className:"logo",children:"REACTERS"}),n?Object(E.jsxs)("div",{className:"right",children:[Object(E.jsx)(gn,{children:n.username}),Object(E.jsx)(N,{onClick:t,children:"\ub85c\uadf8\uc544\uc6c3"})]}):Object(E.jsx)("div",{className:"right",children:Object(E.jsx)(N,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})}),Object(E.jsx)(pn,{})]})},mn=function(e){var n=Object(_.c)((function(e){return{user:e.user.user}})).user,t=Object(_.b)();return Object(E.jsx)(fn,{user:n,onLogout:function(){t(Ge())}})},hn=t(23),xn=t.n(hn),vn=w.b.div(Ve||(Ve=Object(v.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]))),yn=w.b.div(Xe||(Xe=Object(v.a)([""]))),wn=function(e){var n=e.username,t=e.tag,r=e.page,a=xn.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},kn=function(e){var n=e.page,t=e.lastPage,r=e.username,a=e.tag;return Object(E.jsxs)(vn,{children:[Object(E.jsx)(N,{disabled:1===n,to:1===n?void 0:wn({username:r,tag:a,page:n-1}),children:"\uc774\uc804"}),Object(E.jsx)(yn,{children:n}),Object(E.jsx)(N,{disabled:n===t,to:n===t?void 0:wn({username:r,tag:a,page:n+1}),children:"\ub2e4\uc74c"})]})},En=Object(x.f)((function(e){var n=e.location,t=Object(_.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),r=t.lastPage,a=t.posts,c=t.loading;if(!a||c)return null;var o=xn.a.parse(n.search,{ignoreQueryPrefix:!0}),i=o.tag,s=o.username,u=o.page,b=void 0===u?1:u;return Object(E.jsx)(kn,{tag:i,username:s,page:parseInt(b,10),lastPage:r})})),Cn=w.b.div(Ye||(Ye=Object(v.a)(["\n  ","\n  color: ",";\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"],["\n  ","\n  color: ",";\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"])),(function(e){return e.hasMarginTop&&Object(w.a)(en||(en=Object(v.a)(["\n      margin-top: 1rem;\n    "])))}),k.gray[6],k.gray[4]),Sn=function(e){var n=e.username,t=e.publishedDate,r=e.hasMarginTop;return Object(E.jsxs)(Cn,{hasMarginTop:r,children:[Object(E.jsx)("span",{children:Object(E.jsx)("b",{children:Object(E.jsx)(y.b,{to:"/@".concat(n),children:n})})}),Object(E.jsx)("span",{children:new Date(t).toLocaleDateString()})]})},In=w.b.div(nn||(nn=Object(v.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),k.cyan[7],k.cyan[6]),Tn=function(e){var n=e.tags;return Object(E.jsx)(In,{children:n.map((function(e){return Object(E.jsxs)(y.b,{className:"tag",to:"/?tag=".concat(e),children:["#",e]},e)}))})},_n=Object(w.b)(jn)(tn||(tn=Object(v.a)(["\n  margin-top: 3rem;\n"]))),Pn=w.b.div(rn||(rn=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]))),Rn=w.b.div(an||(an=Object(v.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  /* \ub9e8 \uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c */\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 2rem;\n  }\n"])),k.gray[2],k.gray[6]),Ln=function(e){var n=e.post,t=n.publishedDate,r=n.user,a=n.tags,c=n.title,o=n.body,i=n._id;return Object(E.jsxs)(Rn,{children:[Object(E.jsx)("h2",{children:Object(E.jsx)(y.b,{to:"/@".concat(r.username,"/").concat(i),children:c})}),Object(E.jsx)(Sn,{username:r.username,publishedDate:new Date(t)}),Object(E.jsx)(Tn,{tags:a}),Object(E.jsx)("p",{children:o})]})},Dn=function(e){var n=e.posts,t=e.loading,r=e.error,a=e.showWriteButton;return r?Object(E.jsx)(_n,{children:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}):Object(E.jsxs)(_n,{children:[Object(E.jsx)(Pn,{children:a&&Object(E.jsx)(N,{cyan:!0,to:"/write",children:"\uc0c8 \uae00 \uc791\uc131\ud558\uae30"})}),!t&&n&&Object(E.jsx)("div",{children:n.map((function(e){return Object(E.jsx)(Ln,{post:e},e._id)}))})]})},Nn=q.a.mark(Hn),An=ne("posts/LIST_POSTS"),zn=Object(T.a)(An,3),Fn=zn[0],Mn=zn[1],Bn=zn[2],Gn=Object(J.a)(Fn,(function(e){return{tag:e.tag,username:e.username,page:e.page}})),Un=te(Fn,(function(e){var n=e.page,t=e.username,r=e.tag,a=xn.a.stringify({page:n,username:t,tag:r});return ce.get("/api/posts?".concat(a))}));function Hn(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Fn,Un);case 2:case"end":return e.stop()}}),Nn)}var Wn,qn=Object(Q.a)((cn={},Object(H.a)(cn,Mn,(function(e,n){var t=n.payload,r=n.meta;return Object(P.a)(Object(P.a)({},e),{},{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(H.a)(cn,Bn,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{error:t})})),cn),{posts:null,error:null,lastPage:1}),Jn=Object(x.f)((function(e){var n=e.location,t=Object(_.b)(),r=Object(_.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),a=r.posts,c=r.error,o=r.loading,i=r.user;return Object(g.useEffect)((function(){var e=xn.a.parse(n.search,{ignoreQueryPrefix:!0}),r=e.tag,a=e.username,c=e.page;t(Gn({tag:r,username:a,page:c}))}),[t,n.search]),Object(E.jsx)(Dn,{loading:o,error:c,posts:a,showWriteButton:i})})),Qn=function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(mn,{}),Object(E.jsx)(Jn,{}),Object(E.jsx)(En,{})]})},Zn=t(58),Kn=q.a.mark(ct),$n=ne("post/READ_POST"),Vn=Object(T.a)($n,3),Xn=Vn[0],Yn=Vn[1],et=Vn[2],nt="post/UNLOAD_POST",tt=Object(J.a)(Xn,(function(e){return e})),rt=Object(J.a)(nt),at=te(Xn,(function(e){return ce.get("/api/posts/".concat(e))}));function ct(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Xn,at);case 2:case"end":return e.stop()}}),Kn)}var ot,it,st,ut,bt,lt,jt,dt,Ot,pt={post:null,error:null},gt=Object(Q.a)((Wn={},Object(H.a)(Wn,Yn,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{post:t})})),Object(H.a)(Wn,et,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{error:t})})),Object(H.a)(Wn,nt,(function(){return pt})),Wn),pt),ft=Object(w.b)(jn)(ot||(ot=Object(v.a)(["\n  margin-top: 4rem;\n"]))),mt=w.b.div(it||(it=Object(v.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"])),k.gray[2]),ht=w.b.div(st||(st=Object(v.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"])),k.gray[8]),xt=function(e){var n=e.post,t=e.error,r=e.loading,a=e.actionButtons;if(t)return t.response&&404===t.reponse.status?Object(E.jsx)(ft,{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."}):Object(E.jsx)(ft,{children:"\uc624\ub958 \ubc1c\uc0dd!"});if(r||!n)return null;var c=n.title,o=n.body,i=n.user,s=n.publishedDate,u=n.tags;return Object(E.jsxs)(ft,{children:[Object(E.jsxs)(mt,{children:[Object(E.jsx)("h1",{children:c}),Object(E.jsx)(Sn,{username:i.username,publishedDate:s,hasMarginTop:!0}),Object(E.jsx)(Tn,{tags:u})]}),a,Object(E.jsx)(ht,{dangerouslySetInnerHTML:{__html:o}})]})},vt=w.b.div(ut||(ut=Object(v.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),yt=w.b.div(bt||(bt=Object(v.a)(["\n  width: 320px;\n  background: white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]))),wt=Object(w.b)(N)(lt||(lt=Object(v.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]))),kt=function(e){var n=e.visible,t=e.title,r=e.description,a=e.confirmText,c=void 0===a?"\ud655\uc778":a,o=e.cancelText,i=void 0===o?"\ucde8\uc18c":o,s=e.onConfirm,u=e.onCancel;return n?Object(E.jsx)(vt,{children:Object(E.jsxs)(yt,{children:[Object(E.jsx)("h2",{children:t}),Object(E.jsx)("p",{children:r}),Object(E.jsxs)("div",{className:"buttons",children:[Object(E.jsx)(wt,{onClick:u,children:i}),Object(E.jsx)(wt,{cyan:!0,onClick:s,children:c})]})]})}):null},Et=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return Object(E.jsx)(kt,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})},Ct=w.b.div(jt||(jt=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]))),St=w.b.button(dt||(dt=Object(v.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"])),k.gray[6],k.gray[1],k.cyan[7]),It=function(e){var n=e.onEdit,t=e.onRemove,r=Object(g.useState)(!1),a=Object(T.a)(r,2),c=a[0],o=a[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Ct,{children:[Object(E.jsx)(St,{onClick:n,children:"\uc218\uc815"}),Object(E.jsx)(St,{onClick:function(){o(!0)},children:"\uc0ad\uc81c"})]}),Object(E.jsx)(Et,{visible:c,onConfirm:function(){o(!1),t()},onCancel:function(){o(!1)}})]})},Tt=q.a.mark($t),_t="write/INITIALIZE",Pt="write/CHANGE_FIELD",Rt=ne("write/WRITE_POST"),Lt=Object(T.a)(Rt,3),Dt=Lt[0],Nt=Lt[1],At=Lt[2],zt="write/SET_ORIGINAL_POST",Ft=ne("write/UPDATE_POST"),Mt=Object(T.a)(Ft,3),Bt=Mt[0],Gt=Mt[1],Ut=Mt[2],Ht=Object(J.a)(_t),Wt=Object(J.a)(Pt,(function(e){return{key:e.key,value:e.value}})),qt=Object(J.a)(Dt,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),Jt=Object(J.a)(zt,(function(e){return e})),Qt=Object(J.a)(Bt,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Zt=te(Dt,(function(e){var n=e.title,t=e.body,r=e.tags;return ce.post("/api/posts",{title:n,body:t,tags:r})})),Kt=te(Bt,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return ce.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function $t(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Dt,Zt);case 2:return e.next=4,Object(K.d)(Bt,Kt);case 4:case"end":return e.stop()}}),Tt)}var Vt,Xt,Yt,er,nr,tr,rr,ar,cr,or={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},ir=Object(Q.a)((Ot={},Object(H.a)(Ot,_t,(function(e){return or})),Object(H.a)(Ot,Pt,(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},r,a))})),Object(H.a)(Ot,Dt,(function(e){return Object(P.a)(Object(P.a)({},e),{},{post:null,postError:null})})),Object(H.a)(Ot,Nt,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{post:t})})),Object(H.a)(Ot,At,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{postError:t})})),Object(H.a)(Ot,zt,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(H.a)(Ot,Gt,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{post:t})})),Object(H.a)(Ot,Ut,(function(e,n){var t=n.payload;return Object(P.a)(Object(P.a)({},e),{},{postError:t})})),Ot),or),sr=Object(x.f)((function(e){var n=e.match,t=e.history,r=n.params.postId,a=Object(_.b)(),c=Object(_.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),o=c.post,i=c.error,s=c.loading,u=c.user;Object(g.useEffect)((function(){return a(tt(r)),function(){a(rt())}}),[a,r]);var b=function(){var e=Object(Zn.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=r,ce.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),l=(u&&u._id)===(o&&o.user._id);return Object(E.jsx)(xt,{post:o,loading:s,error:i,actionButtons:l&&Object(E.jsx)(It,{onEdit:function(){a(Jt(o)),t.push("/write")},onRemove:b})})})),ur=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(mn,{}),Object(E.jsx)(sr,{})]})},br=function(e){var n=Object(x.e)(),t=Object(g.useState)(null),r=Object(T.a)(t,2),a=r[0],c=r[1],o=Object(_.b)(),i=Object(_.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),s=i.form,u=i.auth,b=i.authError,l=i.user;return Object(g.useEffect)((function(){o(ve("register"))}),[o]),Object(g.useEffect)((function(){if(b)return 409===b.response.status?void c("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4."):void c("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");u&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(u),o(Be()))}),[u,b,o]),Object(g.useEffect)((function(){l&&n.push("/");try{localStorage.setItem("user",JSON.stringify(l))}catch(e){console.log("localStorage is not working")}}),[l,n]),Object(E.jsx)(U,{type:"register",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;o(xe({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password,r=s.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(c("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),xe({form:"register",key:"password",value:""}),void xe({form:"register",key:"passwordConfirm",value:""})):void o(ye({username:n,password:t}));c("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694")},error:a})},lr=function(e){return Object(E.jsx)(I,{children:Object(E.jsx)(br,{})})},jr=t(59),dr=t.n(jr),Or=(t(110),Object(w.b)(jn)(Vt||(Vt=Object(v.a)(["\n  padding: 5rem 0;\n"])))),pr=w.b.input(Xt||(Xt=Object(v.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"])),k.gray[4]),gr=w.b.div(Yt||(Yt=Object(v.a)(["\n  /* \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n"]))),fr=function(e){var n=e.title,t=e.body,r=e.onChangeField,a=Object(g.useRef)(null),c=Object(g.useRef)(null);Object(g.useEffect)((function(){c.current=new dr.a(a.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=c.current;e.on("text-change",(function(n,t,a){"user"===a&&r({key:"body",value:e.root.innerHTML})}))}),[r]),Object(g.useEffect)((function(){c.current.root.innerHTML=t}),[]);return Object(E.jsxs)(Or,{children:[Object(E.jsx)(pr,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){r({key:"title",value:e.target.value})},value:n}),Object(E.jsx)(gr,{children:Object(E.jsx)("div",{ref:a})})]})},mr=function(e){var n=Object(_.b)(),t=Object(_.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),r=t.title,a=t.body,c=Object(g.useCallback)((function(e){return n(Wt(e))}),[n]);return Object(g.useEffect)((function(){return function(){n(Ht())}}),[n]),Object(E.jsx)(fr,{onChangeField:c,title:r,body:a})},hr=t(63),xr=w.b.div(er||(er=Object(v.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n\n  h4 {\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"])),k.gray[2],k.gray[8]),vr=w.b.form(nr||(nr=Object(v.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ",";\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n\n  input {\n    padding: 0.5rem;\n    flex: 1;\n  }\n\n  button {\n    cursor: pointer;\n    padding: 0 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"])),k.gray[9],k.gray[8],k.gray[6]),yr=w.b.div(tr||(tr=Object(v.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"])),k.gray[6]),wr=w.b.div(rr||(rr=Object(v.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]))),kr=f.a.memo((function(e){var n=e.tag,t=e.onRemove;return Object(E.jsxs)(yr,{onClick:function(){return t(n)},children:["#",n]})})),Er=f.a.memo((function(e){var n=e.tags,t=e.onRemove;return Object(E.jsx)(wr,{children:n.map((function(e){return Object(E.jsx)(kr,{tag:e,onRemove:t},e)}))})})),Cr=function(e){var n=e.tags,t=e.onChangeTags,r=Object(g.useState)(""),a=Object(T.a)(r,2),c=a[0],o=a[1],i=Object(g.useState)([]),s=Object(T.a)(i,2),u=s[0],b=s[1],l=Object(g.useCallback)((function(e){if(e&&!u.includes(e)){var n=[].concat(Object(hr.a)(u),[e]);b(n),t(n)}}),[u,t]),j=Object(g.useCallback)((function(e){var n=u.filter((function(n){return n!==e}));b(n),t(n)}),[u,t]),d=Object(g.useCallback)((function(e){o(e.target.value)}),[]),O=Object(g.useCallback)((function(e){e.preventDefault(),l(c.trim()),o("")}),[c,l]);return Object(g.useEffect)((function(){b(n)}),[n]),Object(E.jsxs)(xr,{children:[Object(E.jsxs)(vr,{onSubmit:O,children:[Object(E.jsx)("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:c,onChange:d}),Object(E.jsx)("button",{type:"submit",children:"\ucd94\uac00"})]}),Object(E.jsx)(Er,{tags:u,onRemove:j})]})},Sr=function(e){var n=Object(_.b)(),t=Object(_.c)((function(e){return e.write.tags}));return Object(E.jsx)(Cr,{onChangeTags:function(e){n(Wt({key:"tags",value:e}))},tags:t})},Ir=w.b.div(ar||(ar=Object(v.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]))),Tr=Object(w.b)(N)(cr||(cr=Object(v.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]))),_r=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return Object(E.jsxs)(Ir,{children:[Object(E.jsxs)(Tr,{cyan:!0,onClick:t,children:["\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"]}),Object(E.jsx)(Tr,{onClick:n,children:"\ucde8\uc18c"})]})},Pr=function(){var e=Object(_.b)(),n=Object(x.e)(),t=Object(_.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),r=t.title,a=t.body,c=t.tags,o=t.post,i=t.postError,s=t.originalPostId;return Object(g.useEffect)((function(){if(o){var e=o._id,t=o.user;n.push("/@".concat(t.username,"/").concat(e))}i&&console.log(i)}),[n,o,i]),Object(E.jsx)(_r,{onPublish:function(){e(s?Qt({title:r,body:a,tags:c,id:s}):qt({title:r,body:a,tags:c}))},onCancel:function(){n.goBack()},isEdit:s})},Rr=function(e){return Object(E.jsxs)(jn,{children:[Object(E.jsx)(mr,{}),Object(E.jsx)(Sr,{}),Object(E.jsx)(Pr,{})]})};var Lr=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(x.a,{path:["/@:username","/"],exact:!0,component:Qn}),Object(E.jsx)(x.a,{path:"/login",component:un}),Object(E.jsx)(x.a,{path:"/register",component:lr}),Object(E.jsx)(x.a,{path:"/write",component:Rr}),Object(E.jsx)(x.a,{path:"/@:username/:postId",component:ur})]})},Dr=t(24),Nr=q.a.mark(Ar);function Ar(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)([Ce(),qe(),$t(),ct(),Hn()]);case 2:case"end":return e.stop()}}),Nr)}var zr=Object(Dr.combineReducers)({auth:Te,loading:ee,user:on,write:ir,post:gt,posts:qn}),Fr=t(60),Mr=t(64),Br=t(61),Gr=Object(Mr.a)(),Ur=Object(Dr.createStore)(zr,Object(Fr.composeWithDevTools)(Object(Dr.applyMiddleware)(Gr)));Gr.run(Ar),function(){try{var e=localStorage.getItem("user");if(!e)return;Ur.dispatch(Me(e)),Ur.dispatch(Be())}catch(n){console.log("localStorage is not working")}}(),h.a.render(Object(E.jsx)(_.a,{store:Ur,children:Object(E.jsx)(y.a,{children:Object(E.jsx)(Br.a,{children:Object(E.jsx)(Lr,{})})})}),document.getElementById("root"))},70:function(e,n,t){},71:function(e,n,t){}},[[111,1,2]]]);
//# sourceMappingURL=main.44f20434.chunk.js.map